---
# ====== Page: Hotel Events ==================================
id: 9
identification: 
  name: Hotel Events
  alias: HOTEL-EVENTS1
  title: Hotel Events

appearance: 
  page-mode: Normal
  page-template: Theme Default
  template-options: 
  - '#DEFAULT#'

navigation-menu: 
  override-user-interface-level: false

navigation: 
  cursor-focus: Do not focus cursor
  warn-on-unsaved-changes: true

css: 
  inline: |
    .download-upload-wrapper {
        display: flex;
        justify-content: flex-end;
        flex-wrap: wrap;
        gap: 8px;
    }
    
    
    #download_upload_region .t-Region-body {
        padding: 0;
    }
    
    #download_upload_region {
        display: flex;
        justify-content: flex-end;
        flex-wrap: wrap;
        gap: 10px;
    }
    

security: 
  authentication: Page Requires Authentication
  deep-linking: Application Default
  page-access-protection: Arguments Must Have Checksum
  form-auto-complete: Off
  browser-cache: Application Default

session-management: 
  rejoin-sessions: Application Default

advanced: 
  enable-duplicate-page-submissions: Yes - Enable page to be re-posted
  reload-on-submit: Only for Success

server-cache: 
  caching: Disabled

regions: 
- # ====== Region: Hotel Events ================================
  id: 12202741465869080
  identification: 
    name: Hotel Events
    type: Interactive Grid

  source: 
    location: Local Database
    type: SQL Query
    sql-query: |
      SELECT
          e.ID,
          e.HOTEL_ID,
          h.Hotel_NAME,            
          e.EVENT_NAME,
          e.EVENT_TYPE,
          e.EVENT_START_DATE,
          e.EVENT_END_DATE,
          e.EVENT_FREQUENCY,
          e.ESTIMATED_ATTENDANCE AS Attendance,
          e.IMPACT_LEVEL,
          e.IMPACT_TYPE,
          e.DESCRIPTION,
          e.POSTCODE,
          e.CITY,
          e.COUNTRY
      FROM UR_EVENTS e
      LEFT JOIN UR_HOTELS h
        ON e.HOTEL_ID = h.ID
      --WHERE
      --   (:P9_HOTEL_LIST = 'FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF' OR RAWTOHEX(e.HOTEL_ID) = :P9_HOTEL_LIST)
      WHERE (
        :G_HOTEL_ID IS NULL
        OR :G_HOTEL_ID = 'FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF'
        OR HOTEL_ID = HEXTORAW(:G_HOTEL_ID)
      )
      
      
    page-items-to-submit: 
    - P9_HOTEL_LIST
    - P0_HOTEL_ID

  layout: 
    sequence: 60
    parent-region: No Parent
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: Interactive Report
    template-options: 
    - '#DEFAULT#'
    - t-IRR-region--hideHeader js-addHiddenHeadingRoleDesc
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    region-display-selector: false
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    id: 12358305262267934
    edit: 
      enabled: false

    performance: 
      lazy-loading: false

    appearance: 
      select-first-row: true
      fixed-row-height: true

    pagination: 
      type: Scroll
      show-total-count: true

    toolbar: 
      show: true
      controls: 
      - Search Column Selection
      - Search Field
      - Actions Menu
      - Reset Button
      - Save Button

    enable-users-to: 
      save-public-report: false
      flashback: true
      define-chart-view: true
      download: true

    download: 
      formats: 
      - CSV
      - HTML
      - Excel
      - PDF
      send-as-email: true

    heading: 
      fixed-to: Page

    icon-view: 
      show: false

    detail-view: 
      show: false

    saved-reports: 
    - # ====== Saved Report: Primary Report ========================
      id: 12896825163500792
      identification: 
        name: Primary Report
        alias: 128969

  columns: 
  - # ====== Column: ID ==========================================
    id: 12358448159267935
    identification: 
      column-name: ID
      type: Hidden

    settings: 
      value-protected: false

    layout: 
      sequence: 30

    accessibility: 
      value-identifies-row: false

    source: 
      type: Database Column
      database-column: ID
      data-type: VARCHAR2
      query-only: false
      primary-key: true

    default: 
      duplicate-copies-existing-value: true

    session-state: 
      data-type: VARCHAR2

    export-/-printing: 
      include-in-export-/-print: false

    enable-users-to: 
      sort: false

  - # ====== Column: EVENT_NAME ==================================
    id: 12358636732267937
    identification: 
      column-name: EVENT_NAME
      type: Link

    heading: 
      heading: Event Name
      alignment: start

    layout: 
      sequence: 50
      column-alignment: start
      stretch: Use Report Setting

    accessibility: 
      value-identifies-row: false

    link: 
      target: 
        url: 'f?p=&APP_ID.:20:&SESSION.::&DEBUG.::P20_EVENT_NAME,P20_EVENT_TYPE,P20_EVENT_DESRIPTION,P20_FREQUENCY,P20_ATTENDANCE,P20_IMPACT_TYPE,P20_IMPACT_LEVEL,P20_POST_CODE,P20_CITY,P20_COUNTRY,P20_EVENT_ID,P20_HOTEL_ID,P20_HOTEL_EVENT_LIST,P20_HOTEL_EVENT_LIST,P20_START_DATE,P20_END_DATE:&EVENT_NAME.,&EVENT_TYPE.,&DESCRIPTION.,&EVENT_FREQUENCY.,&ATTENDANCE.,&IMPACT_TYPE.,&IMPACT_LEVEL.,&POSTCODE.,&CITY.,&COUNTRY.,&ID.,&HOTEL_ID.,&EVENT_NAME.,&ID.,&EVENT_START_DATE.,&EVENT_END_DATE.'
        page: 20 # Add Events
        values: 
          p20_event_name: '&EVENT_NAME.'
          p20_event_type: '&EVENT_TYPE.'
          p20_event_desription: '&DESCRIPTION.'
          p20_frequency: '&EVENT_FREQUENCY.'
          p20_attendance: '&ATTENDANCE.'
          p20_impact_type: '&IMPACT_TYPE.'
          p20_impact_level: '&IMPACT_LEVEL.'
          p20_post_code: '&POSTCODE.'
          p20_city: '&CITY.'
          p20_country: '&COUNTRY.'
          p20_event_id: '&ID.'
          p20_hotel_id: '&HOTEL_ID.'
          p20_hotel_event_list: '&EVENT_NAME.'
          p20_hotel_event_list: '&ID.'
          p20_start_date: '&EVENT_START_DATE.'
          p20_end_date: '&EVENT_END_DATE.'

      link-text: '&EVENT_NAME.'

    source: 
      type: Database Column
      database-column: EVENT_NAME
      data-type: VARCHAR2
      query-only: false
      primary-key: false

    default: 
      duplicate-copies-existing-value: true

    column-filter: 
      enabled: true
      performance-impacting-operators: 
      - Contains
      - Starts With
      - Case Insensitive
      - Regular Expression
      text-case: Mixed
      lov-type: Distinct Column
      exact-match: true

    export-/-printing: 
      include-in-export-/-print: true

    enable-users-to: 
      sort: true
      control-break/aggregate: true
      hide: true

    security: 
      escape-special-characters: true

  - # ====== Column: EVENT_TYPE ==================================
    id: 12358787340267938
    identification: 
      column-name: EVENT_TYPE
      type: Text Field

    heading: 
      heading: Event Type
      alignment: start

    settings: 
      trim-spaces: Leading and Trailing
      text-case: NO CHANGE

    layout: 
      sequence: 70
      column-alignment: start
      stretch: Use Report Setting

    accessibility: 
      value-identifies-row: false

    validation: 
      value-required: true
      maximum-length: 100

    source: 
      type: Database Column
      database-column: EVENT_TYPE
      data-type: VARCHAR2
      query-only: false
      primary-key: false

    default: 
      duplicate-copies-existing-value: true

    column-filter: 
      enabled: true
      performance-impacting-operators: 
      - Contains
      - Starts With
      - Case Insensitive
      - Regular Expression
      text-case: Mixed
      lov-type: Distinct Column
      exact-match: true

    export-/-printing: 
      include-in-export-/-print: true

    enable-users-to: 
      sort: true
      control-break/aggregate: true
      hide: true

  - # ====== Column: EVENT_START_DATE ============================
    id: 12358876402267939
    identification: 
      column-name: EVENT_START_DATE
      type: Date Picker

    heading: 
      heading: Event Start Date
      alignment: start

    settings: 
      show-time: false
      display-as: Popup
      minimum-date: None
      maximum-date: None
      multiple-months: No
      use-defaults: true

    layout: 
      sequence: 80
      column-alignment: start
      stretch: Use Report Setting

    accessibility: 
      value-identifies-row: false

    validation: 
      value-required: true

    source: 
      type: Database Column
      database-column: EVENT_START_DATE
      data-type: DATE
      query-only: false
      primary-key: false

    default: 
      duplicate-copies-existing-value: true

    column-filter: 
      enabled: true
      lov-type: Distinct Column
      date-ranges: All

    export-/-printing: 
      include-in-export-/-print: true

    enable-users-to: 
      sort: true
      control-break/aggregate: true
      hide: true

  - # ====== Column: EVENT_END_DATE ==============================
    id: 12358979405267940
    identification: 
      column-name: EVENT_END_DATE
      type: Date Picker

    heading: 
      heading: Event End Date
      alignment: start

    settings: 
      show-time: false
      display-as: Popup
      minimum-date: None
      maximum-date: None
      multiple-months: No
      use-defaults: true

    layout: 
      sequence: 90
      column-alignment: start
      stretch: Use Report Setting

    accessibility: 
      value-identifies-row: false

    validation: 
      value-required: true

    source: 
      type: Database Column
      database-column: EVENT_END_DATE
      data-type: DATE
      query-only: false
      primary-key: false

    default: 
      duplicate-copies-existing-value: true

    column-filter: 
      enabled: true
      lov-type: Distinct Column
      date-ranges: All

    export-/-printing: 
      include-in-export-/-print: true

    enable-users-to: 
      sort: true
      control-break/aggregate: true
      hide: true

  - # ====== Column: IMPACT_LEVEL ================================
    id: 12359148948267942
    identification: 
      column-name: IMPACT_LEVEL
      type: Text Field

    heading: 
      heading: Event Impact Level
      alignment: start

    settings: 
      trim-spaces: Leading and Trailing
      text-case: NO CHANGE

    layout: 
      sequence: 100
      column-alignment: start
      stretch: Use Report Setting

    accessibility: 
      value-identifies-row: false

    validation: 
      value-required: false
      maximum-length: 50

    source: 
      type: Database Column
      database-column: IMPACT_LEVEL
      data-type: VARCHAR2
      query-only: false
      primary-key: false

    default: 
      duplicate-copies-existing-value: true

    column-filter: 
      enabled: true
      performance-impacting-operators: 
      - Contains
      - Starts With
      - Case Insensitive
      - Regular Expression
      text-case: Mixed
      lov-type: Distinct Column
      exact-match: true

    export-/-printing: 
      include-in-export-/-print: true

    enable-users-to: 
      sort: true
      control-break/aggregate: true
      hide: true

  - # ====== Column: DESCRIPTION =================================
    id: 12359232946267943
    identification: 
      column-name: DESCRIPTION
      type: Textarea

    heading: 
      heading: Event Description
      alignment: start

    settings: 
      resizable: true
      auto-height: false
      character-counter: false
      trim-spaces: Leading and Trailing

    layout: 
      sequence: 110
      column-alignment: start
      stretch: Use Report Setting

    accessibility: 
      value-identifies-row: false

    validation: 
      value-required: false
      maximum-length: 500

    source: 
      type: Database Column
      database-column: DESCRIPTION
      data-type: VARCHAR2
      query-only: false
      primary-key: false

    default: 
      duplicate-copies-existing-value: true

    session-state: 
      data-type: VARCHAR2

    column-filter: 
      enabled: true
      performance-impacting-operators: 
      - Contains
      - Starts With
      - Case Insensitive
      - Regular Expression
      text-case: Mixed
      lov-type: None

    export-/-printing: 
      include-in-export-/-print: true

    enable-users-to: 
      sort: false
      hide: true

  - # ====== Column: CITY ========================================
    id: 12359357533267944
    identification: 
      column-name: CITY
      type: Text Field

    heading: 
      heading: City
      alignment: start

    settings: 
      trim-spaces: Leading and Trailing
      text-case: NO CHANGE

    layout: 
      sequence: 120
      column-alignment: start
      stretch: Use Report Setting

    accessibility: 
      value-identifies-row: false

    validation: 
      value-required: false
      maximum-length: 100

    source: 
      type: Database Column
      database-column: CITY
      data-type: VARCHAR2
      query-only: false
      primary-key: false

    default: 
      duplicate-copies-existing-value: true

    column-filter: 
      enabled: true
      performance-impacting-operators: 
      - Contains
      - Starts With
      - Case Insensitive
      - Regular Expression
      text-case: Mixed
      lov-type: Distinct Column
      exact-match: true

    export-/-printing: 
      include-in-export-/-print: true

    enable-users-to: 
      sort: true
      control-break/aggregate: true
      hide: true

  - # ====== Column: POSTCODE ====================================
    id: 12359418132267945
    identification: 
      column-name: POSTCODE
      type: Text Field

    heading: 
      heading: Postcode
      alignment: start

    settings: 
      trim-spaces: Leading and Trailing
      text-case: NO CHANGE

    layout: 
      sequence: 130
      column-alignment: start
      stretch: Use Report Setting

    accessibility: 
      value-identifies-row: false

    validation: 
      value-required: false
      maximum-length: 10

    source: 
      type: Database Column
      database-column: POSTCODE
      data-type: VARCHAR2
      query-only: false
      primary-key: false

    default: 
      duplicate-copies-existing-value: true

    column-filter: 
      enabled: true
      performance-impacting-operators: 
      - Contains
      - Starts With
      - Case Insensitive
      - Regular Expression
      text-case: Mixed
      lov-type: Distinct Column
      exact-match: true

    export-/-printing: 
      include-in-export-/-print: true

    enable-users-to: 
      sort: true
      control-break/aggregate: true
      hide: true

  - # ====== Column: COUNTRY =====================================
    id: 12894429645500141
    identification: 
      column-name: COUNTRY
      type: Text Field

    heading: 
      heading: Country
      alignment: start

    settings: 
      trim-spaces: Leading and Trailing
      text-case: NO CHANGE

    layout: 
      sequence: 140
      column-alignment: start
      stretch: Use Report Setting

    accessibility: 
      value-identifies-row: false

    validation: 
      value-required: false

    source: 
      type: Database Column
      database-column: COUNTRY
      data-type: VARCHAR2
      query-only: false
      primary-key: false

    default: 
      duplicate-copies-existing-value: true

    column-filter: 
      enabled: true
      performance-impacting-operators: 
      - Contains
      - Starts With
      - Case Insensitive
      - Regular Expression
      text-case: Mixed
      lov-type: Distinct Column
      exact-match: true

    export-/-printing: 
      include-in-export-/-print: true

    enable-users-to: 
      sort: true
      control-break/aggregate: true
      hide: true

  - # ====== Column: EVENT_FREQUENCY =============================
    id: 13479239909370114
    identification: 
      column-name: EVENT_FREQUENCY
      type: Text Field

    heading: 
      heading: Event Frequency
      alignment: start

    settings: 
      trim-spaces: Leading and Trailing
      text-case: NO CHANGE

    layout: 
      sequence: 150
      column-alignment: start
      stretch: Use Report Setting

    accessibility: 
      value-identifies-row: false

    validation: 
      value-required: false
      maximum-length: 50

    source: 
      type: Database Column
      database-column: EVENT_FREQUENCY
      data-type: VARCHAR2
      query-only: false
      primary-key: false

    default: 
      duplicate-copies-existing-value: true

    column-filter: 
      enabled: true
      performance-impacting-operators: 
      - Contains
      - Starts With
      - Case Insensitive
      - Regular Expression
      text-case: Mixed
      lov-type: Distinct Column
      exact-match: true

    export-/-printing: 
      include-in-export-/-print: true

    enable-users-to: 
      sort: true
      control-break/aggregate: true
      hide: true

  - # ====== Column: ATTENDANCE ==================================
    id: 18542614313841140
    identification: 
      column-name: ATTENDANCE
      type: Number Field

    heading: 
      heading: Event Attendance
      alignment: end

    settings: 
      number-alignment: Start
      virtual-keyboard: Decimal

    layout: 
      sequence: 160
      column-alignment: end
      stretch: Use Report Setting

    accessibility: 
      value-identifies-row: false

    validation: 
      value-required: false

    source: 
      type: Database Column
      database-column: ATTENDANCE
      data-type: NUMBER
      query-only: false
      primary-key: false

    default: 
      duplicate-copies-existing-value: true

    column-filter: 
      enabled: true
      lov-type: None

    export-/-printing: 
      include-in-export-/-print: true

    enable-users-to: 
      sort: true
      control-break/aggregate: true
      hide: true

  - # ====== Column: HOTEL_ID ====================================
    id: 22839497395924803
    identification: 
      column-name: HOTEL_ID
      type: Hidden

    settings: 
      value-protected: false

    layout: 
      sequence: 170

    accessibility: 
      value-identifies-row: false

    source: 
      type: Database Column
      database-column: HOTEL_ID
      data-type: VARCHAR2
      query-only: false
      primary-key: false

    default: 
      duplicate-copies-existing-value: true

    session-state: 
      data-type: VARCHAR2

    export-/-printing: 
      include-in-export-/-print: false

    enable-users-to: 
      sort: false

  - # ====== Column: HOTEL_NAME ==================================
    id: 22839599815924804
    identification: 
      column-name: HOTEL_NAME
      type: Text Field

    heading: 
      heading: Hotel Name
      alignment: start

    settings: 
      trim-spaces: Leading and Trailing
      text-case: NO CHANGE

    layout: 
      sequence: 180
      column-alignment: start
      stretch: Use Report Setting

    accessibility: 
      value-identifies-row: false

    validation: 
      value-required: false
      maximum-length: 100

    source: 
      type: Database Column
      database-column: HOTEL_NAME
      data-type: VARCHAR2
      query-only: false
      primary-key: false

    default: 
      duplicate-copies-existing-value: true

    column-filter: 
      enabled: true
      performance-impacting-operators: 
      - Contains
      - Starts With
      - Case Insensitive
      - Regular Expression
      text-case: Mixed
      lov-type: Distinct Column
      exact-match: true

    export-/-printing: 
      include-in-export-/-print: true

    enable-users-to: 
      sort: true
      control-break/aggregate: true
      hide: true

  - # ====== Column: IMPACT_TYPE =================================
    id: 22839622024924805
    identification: 
      column-name: IMPACT_TYPE
      type: Text Field

    heading: 
      heading: Event Impact Type
      alignment: start

    settings: 
      trim-spaces: Leading and Trailing
      text-case: NO CHANGE

    layout: 
      sequence: 190
      column-alignment: start
      stretch: Use Report Setting

    accessibility: 
      value-identifies-row: false

    validation: 
      value-required: false
      maximum-length: 50

    source: 
      type: Database Column
      database-column: IMPACT_TYPE
      data-type: VARCHAR2
      query-only: false
      primary-key: false

    default: 
      duplicate-copies-existing-value: true

    column-filter: 
      enabled: true
      performance-impacting-operators: 
      - Contains
      - Starts With
      - Case Insensitive
      - Regular Expression
      text-case: Mixed
      lov-type: Distinct Column
      exact-match: true

    export-/-printing: 
      include-in-export-/-print: true

    enable-users-to: 
      sort: true
      control-break/aggregate: true
      hide: true

  printing: 
    page: 
      size: Letter
      orientation: Landscape
      units: Inches
      width: 11
      height: 8.5
      border-width: 0.5
      border-color: '#666666'

    page-header: 
      font: Helvetica
      font-weight: Normal
      font-size: 12
      font-color: '#000000'
      alignment: center

    column-headings: 
      font: Helvetica
      font-weight: Bold
      font-size: 10
      font-color: '#000000'
      background-color: '#EEEEEE'

    columns: 
      font: Helvetica
      font-weight: Normal
      font-size: 10
      font-color: '#000000'
      background-color: '#FFFFFF'

    page-footer: 
      font: Helvetica
      font-weight: Normal
      font-size: 12
      font-color: '#000000'
      alignment: center

- # ====== Region: Buttons =====================================
  id: 12213514696869128
  identification: 
    name: Buttons
    type: Static Content

  layout: 
    sequence: 20
    parent-region: No Parent
    slot: REGION_POSITION_03
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: Buttons Container
    template-options: 
    - '#DEFAULT#'
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    region-display-selector: false
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    settings: 
      output-as: Text (escape special characters)
      show-line-breaks: true

- # ====== Region: Event Management ============================
  id: 15746794628917092
  identification: 
    name: Event Management
    type: Breadcrumb

  source: 
    breadcrumb: Breadcrumb # 8558440305922134

  layout: 
    sequence: 20
    parent-region: No Parent
    slot: REGION_POSITION_01
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    template: Title Bar
    template-options: 
    - '#DEFAULT#'
    - t-BreadcrumbRegion--useBreadcrumbTitle
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    region-display-selector: false
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  attributes: 
    appearance: 
      breadcrumb-template: Breadcrumb
      template-options: 
      - '#DEFAULT#'

- # ====== Region: New =========================================
  id: 31803252047175001
  identification: 
    name: New
    type: Static Content

  layout: 
    sequence: 20
    parent-region: Hotel Events # 12202741465869080
    slot: BODY
    start-new-layout: false
    start-new-row: false
    column: Automatic
    new-column: true
    column-span: 4

  appearance: 
    template: Title Bar
    template-options: 
    - '#DEFAULT#'
    - t-BreadcrumbRegion--useBreadcrumbTitle
    - t-Form--stretchInputs
    render-components: Above Content

  accessibility: 
    use-landmark: true
    landmark-type: Template Default

  advanced: 
    static-id: download_upload_region
    region-display-selector: false
    exclude-title-from-translation: false

  customization: 
    customizable: Not Customizable By End Users

  configuration: 
    build-option: Commented Out # 8557885664922129

  attributes: 
    settings: 
      output-as: HTML
      expand-shortcuts: false

page-items: 
- # ====== Page Item: P9_HOTEL_LIST ============================
  id: 12890620865500103
  identification: 
    name: P9_HOTEL_LIST
    type: Select List

  label: 
    label: Hotel Name
    alignment: Left

  settings: 
    page-action-on-selection: None

  multiple-values: 
    type: No

  layout: 
    sequence: 40
    region: No Parent
    slot: BODY
    alignment: Left
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: 4
    label-column-span: Page Template Default

  appearance: 
    template: Optional - Floating
    template-options: 
    - '#DEFAULT#'
    height: 1

  validation: 
    value-required: false

  list-of-values: 
    type: SQL Query
    sql-query: |
      SELECT Name, ID
      FROM (
        SELECT NVL(Hotel_NAME, 'Name') AS Name,
               ID AS ID,
               3 AS SortOrder
        FROM UR_HOTELS
        WHERE NVL(ASSOCIATION_END_DATE, SYSDATE) >= SYSDATE
        
        UNION ALL
        
        SELECT '-- Show all data --' AS Name,
               hextoraw('FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF') AS ID,  -- special marker
               1 AS SortOrder
        FROM DUAL
      )
      ORDER BY SortOrder, Name
    display-extra-values: false
    display-null-value: false

  advanced: 
    warn-on-unsaved-changes: Page Default

  source: 
    type: Null
    used: Only when current value in session state is null

  default: 
    type: Static
    static-value: FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF

  session-state: 
    storage: Per Session (Persistent)

  quick-picks: 
    show-quick-picks: false

  security: 
    session-state-protection: Unrestricted
    store-value-encrypted-in-session-state: true
    restricted-characters: All characters can be saved.

  configuration: 
    build-option: Commented Out # 8557885664922129

buttons: 
- # ====== Button: DELETE ======================================
  id: 12355598852267906
  identification: 
    button-name: DELETE
    label: Delete

  layout: 
    sequence: 20
    region: Buttons # 12213514696869128
    slot: DELETE
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic

  appearance: 
    button-template: Text
    hot: true
    template-options: 
    - '#DEFAULT#'
    - t-Button--danger

  behavior: 
    action: Submit Page
    execute-validations: false
    show-processing: false
    warn-on-unsaved-changes: Do Not Check
    database-action: SQL DELETE action

  confirmation: 
    message: '&APP_TEXT$DELETE_MSG!RAW.'
    style: Danger

- # ====== Button: Add_New_Event ===============================
  id: 12890780367500104
  identification: 
    button-name: Add_New_Event
    label: Add New Event

  layout: 
    sequence: 10
    region: Hotel Events # 12202741465869080
    slot: BODY
    start-new-layout: false
    start-new-row: true
    column: Automatic
    new-column: true
    column-span: Automatic
    alignment: Left center

  appearance: 
    button-template: Text
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--success
    - t-Button--gapTop

  behavior: 
    action: Redirect to Page in this Application
    target: 
      url: 'f?p=&APP_ID.:20:&SESSION.::&DEBUG.:20:P20_HOTEL_ID:&P0_HOTEL_ID.'
      page: 20 # Add Events
      clear-cache: 20
      values: 
        p20_hotel_id: '&P0_HOTEL_ID.'

    warn-on-unsaved-changes: Do Not Check

- # ====== Button: BULK_UPLOAD =================================
  id: 27788309087806811
  identification: 
    button-name: BULK_UPLOAD
    label: Upload Data

  layout: 
    sequence: 20
    region: New # 31803252047175001
    slot: BODY
    start-new-layout: false
    start-new-row: false
    column: Automatic
    new-column: true
    column-span: Automatic
    alignment: Left center

  appearance: 
    button-template: Text
    hot: true
    template-options: 
    - '#DEFAULT#'
    - t-Button--primary
    - t-Button--stretch
    - t-Button--padLeft

  behavior: 
    action: Redirect to Page in this Application
    target: 
      url: 'f?p=&APP_ID.:27:&SESSION.::&DEBUG.:CR,27:P27_HOTEL_ID:&P0_HOTEL_ID.'
      page: 27 # Events Data Load
      clear-cache: CR,27
      values: 
        p27_hotel_id: '&P0_HOTEL_ID.'

    warn-on-unsaved-changes: Do Not Check

- # ====== Button: DOWNLOAD ====================================
  id: 27788423350806812
  identification: 
    button-name: DOWNLOAD
    label: Download Template

  layout: 
    sequence: 10
    region: New # 31803252047175001
    slot: BODY
    start-new-layout: false
    start-new-row: false
    column: Automatic
    new-column: true
    column-span: 7
    alignment: Left center

  appearance: 
    button-template: Text
    hot: false
    template-options: 
    - '#DEFAULT#'
    - t-Button--stretch

  behavior: 
    action: Defined by Dynamic Action
    execute-validations: true

dynamic-actions: 
- # ====== Dynamic Action: New_1 ===============================
  id: 12187861808821549
  identification: 
    name: New_1

  execution: 
    sequence: 30
    event-scope: Static
    type: Immediate

  when: 
    event: Change
    selection-type: Item(s)
    item(s): 
    - P9_EVENT_ID

  actions: 
  - # ====== Action: Set Value ===================================
    id: 12187981187821550
    identification: 
      action: Set Value

    settings: 
      set-type: SQL Statement
      sql-statement: |
        SELECT EVENT_NAME,
               EVENT_TYPE,
               EVENT_START_DATE,
               EVENT_END_DATE,
               ESTIMATED_ATTENDANCE,
               IMPACT_LEVEL,
               DESCRIPTION,
               CITY,
               POSTCODE,
               COUNTRY
        FROM UR_EVENTS
        WHERE ID = :P9_EVENT_ID
      items-to-submit: 
      - P9_EVENT_ID
      escape-special-characters: true
      suppress-change-event: false

    affected-elements: 
      selection-type: Item(s)
      item(s): 
      - P9_EVENT_NAME
      - P9_EVENT_TYPE
      - P9_EVENT_START_DATE
      - P9_EVENT_END_DATE
      - P9_ESTIMATED_ATTENDANCE
      - P9_IMPACT_LEVEL
      - P9_DESCRIPTION
      - P9_CITY
      - P9_POSTCODE

    execution: 
      sequence: 10
      event: New_1 # 12187861808821549
      fire-when-event-result-is: True
      fire-on-initialization: true
      stop-execution-on-error: true
      wait-for-result: true

- # ====== Dynamic Action: Change Hotel ========================
  id: 12892268670500119
  identification: 
    name: Change Hotel

  execution: 
    sequence: 10
    event-scope: Static
    type: Immediate

  when: 
    event: Change
    selection-type: Item(s)
    item(s): 
    - P9_HOTEL_LIST
    - P0_HOTEL_ID

  actions: 
  - # ====== Action: Show ========================================
    id: 12892369964500120
    identification: 
      action: Show

    affected-elements: 
      selection-type: Region
      region: Hotel Events # 12202741465869080

    execution: 
      sequence: 20
      event: Change Hotel # 12892268670500119
      fire-when-event-result-is: True
      fire-on-initialization: true

  - # ====== Action: Submit Page =================================
    id: 22839224950924801
    identification: 
      action: Submit Page

    settings: 
      show-processing: true

    execution: 
      sequence: 10
      event: Change Hotel # 12892268670500119
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Hotel list Change ===================
  id: 12892583280500122
  identification: 
    name: Hotel list Change

  execution: 
    sequence: 20
    event-scope: Static
    type: Immediate

  when: 
    event: Change
    selection-type: Item(s)
    item(s): 
    - P9_HOTEL_LIST

  configuration: 
    build-option: Commented Out # 8557885664922129

  actions: 
  - # ====== Action: Refresh =====================================
    id: 12892617203500123
    identification: 
      action: Refresh

    settings: 
      maintain-pagination: false

    affected-elements: 
      selection-type: Region
      region: Hotel Events # 12202741465869080

    execution: 
      sequence: 10
      event: Hotel list Change # 12892583280500122
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: Refresh =============================
  id: 12894291312500139
  identification: 
    name: Refresh

  execution: 
    sequence: 40
    event-scope: Dynamic
    type: Immediate

  when: 
    event: Dialog Closed
    selection-type: Region
    region: Hotel Events # 12202741465869080

  actions: 
  - # ====== Action: Refresh =====================================
    id: 12894354874500140
    identification: 
      action: Refresh

    settings: 
      maintain-pagination: false

    affected-elements: 
      selection-type: Region
      region: Hotel Events # 12202741465869080

    execution: 
      sequence: 10
      event: Refresh # 12894291312500139
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: DA_DOWNLOAD_SAMPLE ==================
  id: 27788686821806814
  identification: 
    name: DA_DOWNLOAD_SAMPLE

  execution: 
    sequence: 50
    event-scope: Static
    type: Immediate

  when: 
    event: Click
    selection-type: Button
    button: DOWNLOAD # 27788423350806812

  actions: 
  - # ====== Action: Execute JavaScript Code =====================
    id: 27788790735806815
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        apex.server.process(
            "DOWNLOAD_SAMPLE",
            {},
            { dataType: "text" }
        );
        

    execution: 
      sequence: 10
      event: DA_DOWNLOAD_SAMPLE # 27788686821806814
      fire-when-event-result-is: True
      fire-on-initialization: false

- # ====== Dynamic Action: test download =======================
  id: 28775061586726015
  identification: 
    name: test download

  execution: 
    sequence: 60
    event-scope: Static
    type: Immediate

  when: 
    event: Click
    selection-type: Button
    button: DOWNLOAD # 27788423350806812

  actions: 
  - # ====== Action: Execute JavaScript Code =====================
    id: 28775157825726016
    identification: 
      action: Execute JavaScript Code

    settings: 
      code: |
        apex.server.process(
            "DOWNLOAD_SAMPLE",
            {},
            {
                success: function (pData) {
        
                    if (pData.error) {
                        alert("Error: " + pData.error);
                        return;
                    }
        
                    // Decode base64
                    const byteCharacters = atob(pData.content);
                    const byteArray = new Uint8Array(byteCharacters.length);
        
                    for (let i = 0; i < byteCharacters.length; i++) {
                        byteArray[i] = byteCharacters.charCodeAt(i);
                    }
        
                    // Build file
                    const blob = new Blob([byteArray], { type: pData.mime });
                    const url = URL.createObjectURL(blob);
        
                    // Download
                    const a = document.createElement("a");
                    a.href = url;
                    a.download = pData.filename;
                    a.click();
                    URL.revokeObjectURL(url);
                }
            }
        );
        

    execution: 
      sequence: 10
      event: test download # 28775061586726015
      fire-when-event-result-is: True
      fire-on-initialization: false

processes: 
- # ====== Process: Close Dialog ===============================
  id: 12217337232869140
  identification: 
    name: Close Dialog
    type: Close Dialog
    execution-chain: None

  settings: 
    show-success-messages: true

  execution: 
    sequence: 40
    point: Processing
    run-process: Once Per Page Visit (default)

  error: 
    display-location: Inline in Notification

  server-side-condition: 
    type: Request is contained in Value
    value: CREATE,SAVE,DELETE

- # ====== Process: DOWNLOAD_SAMPLE ============================
  id: 28774906600726014
  identification: 
    name: DOWNLOAD_SAMPLE
    type: Execute Code
    execution-chain: None

  source: 
    location: Local Database
    language: PL/SQL
    pl/sql-code: |
      DECLARE
          l_blob   BLOB;
          l_mime   VARCHAR2(200);
          l_b64    CLOB;
      BEGIN
          SELECT file_content, mime_type
          INTO   l_blob, l_mime
          FROM   apex_application_static_files
          WHERE  application_id = :APP_ID
          AND    file_name = 'Sample Load Data Template.xlsx';
      
          -- Convert BLOB â†’ Base64
          l_b64 := apex_web_service.blob2clobbase64(l_blob);
      
          -- Return JSON
          apex_json.open_object;
          apex_json.write('content', l_b64);
          apex_json.write('mime', l_mime);
          apex_json.write('filename', 'Sample Load Data Template.xlsx');
          apex_json.close_object;
      END;
      

  execution: 
    sequence: 50
    point: Ajax Callback
    run-process: Once Per Page Visit (default)

